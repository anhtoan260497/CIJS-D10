{"ast":null,"code":"var _jsxFileName = \"/Users/anhtoan/Desktop/CIJS-D10/movieapp/src/Components/Homepage/MovieRender/index.jsx\";\nimport React, { Component } from \"react\";\nimport \"./MovieRender.scss\";\nimport MovieTag from \"./MovieTag\";\nimport Data from \"../../../Data/Data\";\nimport TrailerHover from \"./MovieTag/TrailerHover\";\nimport { Fragment } from \"react/cjs/react.production.min\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MovieRender extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClickButton = async e => {\n      let {\n        isPopularMovies,\n        isTopRatedMovies,\n        isUpComingMovies,\n        isSearch,\n        page\n      } = this.state;\n\n      if (e.target.name === \"isPopularMovies\") {\n        let dataPopular = [];\n        let resPopular = await Data.getPopularMovies(page);\n\n        for (let i = 0; i < 12; i++) {\n          dataPopular.push(resPopular.data.results[i]);\n        }\n\n        this.setState({\n          isPopularMovies: true,\n          isTopRatedMovies: false,\n          isUpComingMovies: false,\n          onTrailer: false,\n          data: dataPopular\n        });\n      } else if (e.target.name === \"isTopRatedMovies\") {\n        let dataTopRated = [];\n        let resTopRated = await Data.getTopRatedMovies(page);\n\n        for (let i = 0; i < 12; i++) {\n          dataTopRated.push(resTopRated.data.results[i]);\n        }\n\n        this.setState({\n          isPopularMovies: false,\n          isTopRatedMovies: true,\n          isUpComingMovies: false,\n          onTrailer: false,\n          data: dataTopRated\n        });\n      } else {\n        let dataUpComing = [];\n        let resUpComing = await Data.getTopRatedMovies(page);\n\n        for (let i = 0; i < 12; i++) {\n          dataUpComing.push(resUpComing.data.results[i]);\n        }\n\n        this.setState({\n          isPopularMovies: false,\n          isTopRatedMovies: false,\n          isUpComingMovies: true,\n          data: dataUpComing\n        });\n      }\n    };\n\n    this.onGetId = async id => {\n      let key = \"\";\n      let trailer = await Data.getVideos(id);\n      this.setState({\n        trailer: trailer.data.results\n      }, () => {\n        console.log(this.state.trailer);\n        let arr = this.state.trailer.filter(el => {\n          return el.name.includes(\"Official\") || el.name.includes(\"trailer\");\n        });\n        key = arr[0].key;\n        this.setState({\n          key: key,\n          onTrailer: true\n        });\n      }); // Lấy key của video\n    };\n\n    this.renderMovieTag = () => {\n      return this.state.data.map(el => {\n        return /*#__PURE__*/_jsxDEV(MovieTag, {\n          history: this.props.history,\n          popularMovies: el,\n          onGetId: this.onGetId\n        }, el.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this);\n      });\n    };\n\n    this.turnOffTrailer = () => {\n      this.setState({\n        onTrailer: false\n      });\n    };\n\n    this.state = {\n      page: 1,\n      data: [],\n      isPopularMovies: true,\n      isTopRatedMovies: false,\n      isUpComingMovies: false,\n      isSearch: false,\n      trailer: [],\n      key: \"\",\n      onTrailer: false\n    };\n  }\n\n  async componentDidMount() {\n    let dataPopular = [];\n    let resPopular = await Data.getPopularMovies(this.state.page);\n\n    for (let i = 0; i < 12; i++) {\n      dataPopular.push(resPopular.data.results[i]);\n    }\n\n    this.setState({\n      data: dataPopular\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"popular button\",\n          onClick: e => this.onClickButton(e),\n          name: \"isPopularMovies\",\n          children: \"Popular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"top-rated button\",\n          onClick: e => this.onClickButton(e),\n          name: \"isTopRatedMovies\",\n          children: \"Top Rated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"up-coming button\",\n          onClick: e => this.onClickButton(e),\n          name: \"isUpComingMovies\",\n          children: \"Up Coming\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-render-container\",\n        onClick: this.turnOffTrailer,\n        children: [this.state.onTrailer ? /*#__PURE__*/_jsxDEV(TrailerHover, {\n          id: this.state.key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 35\n        }, this) : null, this.renderMovieTag()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MovieRender;","map":{"version":3,"sources":["/Users/anhtoan/Desktop/CIJS-D10/movieapp/src/Components/Homepage/MovieRender/index.jsx"],"names":["React","Component","MovieTag","Data","TrailerHover","Fragment","MovieRender","constructor","props","onClickButton","e","isPopularMovies","isTopRatedMovies","isUpComingMovies","isSearch","page","state","target","name","dataPopular","resPopular","getPopularMovies","i","push","data","results","setState","onTrailer","dataTopRated","resTopRated","getTopRatedMovies","dataUpComing","resUpComing","onGetId","id","key","trailer","getVideos","console","log","arr","filter","el","includes","renderMovieTag","map","history","turnOffTrailer","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./MovieRender.scss\";\nimport MovieTag from \"./MovieTag\";\nimport Data from \"../../../Data/Data\";\nimport TrailerHover from \"./MovieTag/TrailerHover\";\nimport { Fragment } from \"react/cjs/react.production.min\";\n\nclass MovieRender extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      data: [],\n\n      isPopularMovies: true,\n      isTopRatedMovies: false,\n      isUpComingMovies: false,\n      isSearch: false,\n\n      trailer: [],\n      key: \"\",\n      onTrailer: false,\n    };\n  }\n\n  async componentDidMount() {\n    let dataPopular = [];\n    let resPopular = await Data.getPopularMovies(this.state.page);\n    for (let i = 0; i < 12; i++) {\n      dataPopular.push(resPopular.data.results[i]);\n    }\n    this.setState({ data: dataPopular });\n  }\n\n  onClickButton = async (e) => {\n    let {\n      isPopularMovies,\n      isTopRatedMovies,\n      isUpComingMovies,\n      isSearch,\n      page,\n    } = this.state;\n\n    if (e.target.name === \"isPopularMovies\") {\n        let dataPopular = [];\n        let resPopular = await Data.getPopularMovies(page);\n        for (let i = 0; i < 12; i++) {\n          dataPopular.push(resPopular.data.results[i]);\n        }\n        this.setState({\n          isPopularMovies: true,\n          isTopRatedMovies: false,\n          isUpComingMovies: false,\n          onTrailer:false,\n          data: dataPopular,\n        });\n      } else if (e.target.name === \"isTopRatedMovies\") {\n        let dataTopRated = [];\n        let resTopRated = await Data.getTopRatedMovies(page);\n        for (let i = 0; i < 12; i++) {\n          dataTopRated.push(resTopRated.data.results[i]);\n        }\n        this.setState({\n          isPopularMovies: false,\n          isTopRatedMovies: true,\n          isUpComingMovies: false,\n          onTrailer:false,\n          data: dataTopRated,\n        });\n      } else {\n        let dataUpComing = [];\n        let resUpComing  = await Data.getTopRatedMovies(page);\n        for (let i = 0; i < 12; i++) {\n          dataUpComing.push(resUpComing.data.results[i]);\n        }\n        this.setState({\n          isPopularMovies: false,\n          isTopRatedMovies: false,\n          isUpComingMovies: true,\n          data : dataUpComing\n        });\n      }\n    }\n\n\n  onGetId = async (id) => {\n    let key = \"\";\n    let trailer = await Data.getVideos(id);\n    this.setState({ trailer: trailer.data.results }, () => {\n      console.log(this.state.trailer)\n      let arr = this.state.trailer.filter((el) => {\n        return el.name.includes(\"Official\") || el.name.includes(\"trailer\");\n      });\n      key = arr[0].key;\n      this.setState({ key: key, onTrailer: true });\n    }); // Lấy key của video\n  };\n\n  renderMovieTag = () => {\n    return this.state.data.map((el) => {\n      return (\n        <MovieTag\n          history={this.props.history}\n          popularMovies={el}\n          key={el.id}\n          onGetId={this.onGetId}\n        />\n      );\n    });\n  };\n\n  turnOffTrailer = () => {\n    this.setState({ onTrailer: false });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"buttons\">\n          <button\n            className=\"popular button\"\n            onClick={(e) => this.onClickButton(e)}\n            name=\"isPopularMovies\"\n          >\n            Popular\n          </button>\n          <button\n            className=\"top-rated button\"\n            onClick={(e) => this.onClickButton(e)}\n            name=\"isTopRatedMovies\"\n          >\n            Top Rated\n          </button>\n          <button\n            className=\"up-coming button\"\n            onClick={(e) => this.onClickButton(e)}\n            name=\"isUpComingMovies\"\n          >\n            Up Coming\n          </button>\n        </div>\n        <div className=\"movie-render-container\" onClick={this.turnOffTrailer}>\n          {this.state.onTrailer ? <TrailerHover id={this.state.key} /> : null}\n          {this.renderMovieTag()}\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MovieRender;\n"]},"metadata":{},"sourceType":"module"}